import { Link } from 'react-router-dom';\nimport { Button } from '@/components/ui/button';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { LogOut, User, Settings } from 'lucide-react';\nimport type { User as AuthUser } from '@supabase/supabase-js';\n\ninterface UserMenuProps {\n  user: AuthUser;\n  onLogout: () => void;\n}\n\nexport function UserMenu({ user, onLogout }: UserMenuProps) {\n  const displayName = user.user_metadata?.full_name || 'User';\n  const userRole = user.user_metadata?.role || 'referrer';\n  \n  const getInitials = () => {\n    return (user.user_metadata?.full_name || user.email || 'U')\n      .split(' ')\n      .map((n) => n[0])\n      .join('')\n      .toUpperCase();\n  };\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" className=\"relative h-8 w-8 rounded-full\">\n          <Avatar className=\"h-8 w-8\">\n            <AvatarImage \n              src={user.user_metadata?.avatar_url} \n              alt={displayName} \n            />\n            <AvatarFallback>\n              {getInitials()}\n            </AvatarFallback>\n          </Avatar>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\n        <div className=\"flex items-center justify-start gap-2 p-2\">\n          <div className=\"flex flex-col space-y-1 leading-none\">\n            <p className=\"font-medium\">{displayName}</p>\n            <p className=\"w-[200px] truncate text-sm text-muted-foreground\">\n              {user.email}\n            </p>\n            <p className=\"text-xs text-muted-foreground capitalize\">\n              {userRole}\n            </p>\n          </div>\n        </div>\n        <DropdownMenuSeparator />\n        <DropdownMenuItem asChild>\n          <Link to=\"/profile\" className=\"flex items-center\">\n            <User className=\"mr-2 h-4 w-4\" />\n            Profile\n          </Link>\n        </DropdownMenuItem>\n        <DropdownMenuItem asChild>\n          <Link to=\"/settings\" className=\"flex items-center\">\n            <Settings className=\"mr-2 h-4 w-4\" />\n            Settings\n          </Link>\n        </DropdownMenuItem>\n        <DropdownMenuSeparator />\n        <DropdownMenuItem onClick={onLogout}>\n          <LogOut className=\"mr-2 h-4 w-4\" />\n          Log out\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}"